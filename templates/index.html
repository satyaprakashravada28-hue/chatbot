<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AgriAssist - Smart Farmer Chatbot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap CSS CDN -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: "Segoe UI", sans-serif;
      background: url('{{ url_for("static", filename="images/image.png") }}');
      background-size: cover;
      color: #ffffff;
      backdrop-filter: blur(3px);
    }
    h2,
    h4 {
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
    }
    .glass-card {
      background-color: rgba(18, 18, 18, 0.85);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.6);
      margin-bottom: 40px;
    }
    .chat-box {
      height: 300px;
      overflow-y: auto;
      background-color: rgba(30, 30, 30, 0.9);
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    .chat-msg {
      margin-bottom: 10px;
    }
    .user {
      color: #00ffcc;
    }
    .bot {
      color: #ffa500;
    }
    .form-control,
    .btn {
      background-color: rgba(42, 42, 42, 0.85);
      color: white;
      border: 1px solid #555;
    }
    .form-control::placeholder {
      color: #bbb;
    }
    .btn-success {
      background-color: #28a745;
      border-color: #28a745;
    }
    .btn-success:hover {
      background-color: #218838;
    }
    .btn-primary:hover {
      background-color: #1e6ab4;
    }
    hr {
      border-top: 1px solid #666;
    }
    /* Language selector styling top-right */
    #language-container {
      position: fixed;
      top: 10px;
      right: 15px;
      z-index: 2000;
      width: 140px;
    }
  </style>
</head>
<body class="container py-5">
  <!-- Navbar -->
  <nav
    class="navbar navbar-expand-lg navbar-dark bg-dark rounded-4 shadow px-2 py-2"
  >
    <a class="navbar-brand" href="index.html" data-key="navbar_brand">ğŸŒ± AgriAssist</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#agriNavbar"
      aria-controls="agriNavbar"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="agriNavbar">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('instructions') }}">Instructions</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('about') }}">About</a>
        </li>
      </ul>
    </div>
  </nav>
<br>
  <!-- Language selector top right -->
  <div id="language-container">
    <select
      id="language-select"
      class="form-select form-select-sm"
      aria-label="Select Language"
    >
      <option value="en" selected>English ğŸ‡¬ğŸ‡§</option>
      <option value="hi">Hindi ğŸ‡®ğŸ‡³</option>
      <option value="te">Telugu ğŸ‡®ğŸ‡³</option>
      <option value="kn">Kannada ğŸ‡®ğŸ‡³</option>
      <option value="ml">Malayalam ğŸ‡®ğŸ‡³</option>
      <option value="pa">Punjabi ğŸ‡®ğŸ‡³</option>
      <option value="gu">Gujarati ğŸ‡®ğŸ‡³</option>
      <option value="or">Odia ğŸ‡®ğŸ‡³</option>
      <option value="bn">Bengali ğŸ‡®ğŸ‡³</option>
      <option value="as">Assamese ğŸ‡®ğŸ‡³</option>
    </select>
  </div>

  <!-- Content with data-key for translation -->
  <div class="glass-card">
    <h2 class="text-center mb-4" data-key="welcome_message">
      Welcome to the AI-Based Farmer Support System
    </h2>
    <p data-key="intro_text">
      This AI-powered system acts as your personal digital assistant for
      agriculture. You can ask about crops, diseases, soil conditions, and
      modern farming techniques. Our chatbot gives instant, reliable, and
      easy-to-follow answers. Together, letâ€™s grow healthier crops and build a
      stronger farming community.
    </p>
  </div>

  <div class="glass-card">
    <h3 class="text-center mb-4" data-key="chatbot_title">
      ğŸŒ¾ AgriAssist - Smart Farmer Chatbot
    </h3>
    <div class="chat-box" id="chat-box"></div>
    <div class="input-group mb-4">
      <select id="chat-lang-select" class="form-select w-auto me-2">
        <option value="en-IN">English ğŸ‡®ğŸ‡³</option>
        <option value="te-IN">Telugu ğŸ‡®ğŸ‡³</option>
        <option value="hi-IN">Hindi ğŸ‡®ğŸ‡³</option>
        <option value="kn-IN">Kannada ğŸ‡®ğŸ‡³</option>
        <option value="ml-IN">Malayalam ğŸ‡®ğŸ‡³</option>
        <option value="pa-IN">Punjabi ğŸ‡®ğŸ‡³</option>
        <option value="gu-IN">Gujarati ğŸ‡®ğŸ‡³</option>
        <option value="or-IN">Odia ğŸ‡®ğŸ‡³</option>
        <option value="bn-IN">Bengali ğŸ‡®ğŸ‡³</option>
        <option value="as-IN">Assamese ğŸ‡®ğŸ‡³</option>
      </select>
      <input
        type="text"
        id="user-message"
        class="form-control"
        placeholder="Ask me anything about farming..."
        data-key-placeholder="chat_placeholder"
      />
      <button class="btn btn-success" onclick="sendMessage()" data-key="send_button">
        Send
      </button>
      <button
        class="btn btn-outline-light"
        onclick="startListening()"
        title="Start Voice Input"
      >
        ğŸ¤
      </button>
    </div>
  </div>

 <!-- Only showing the form part that changed -->
<div class="glass-card">
  <hr class="text-white" />
  <h4 class="mb-3" data-key="crop_form_title">ğŸŒ± Crop Prediction Form</h4>
  <form id="crop-form">
    <div class="row mb-2">
      <div class="col"><input type="number" class="form-control" name="N" placeholder="N" required /></div>
      <div class="col"><input type="number" class="form-control" name="P" placeholder="P" required /></div>
      <div class="col"><input type="number" class="form-control" name="K" placeholder="K" required /></div>
    </div>
    <div class="row mb-2">
      <div class="col">
        <input type="number" step="0.1" class="form-control" name="temperature" placeholder="Temperature" required />
      </div>
      <div class="col">
        <input type="number" step="0.1" class="form-control" name="humidity" placeholder="Humidity" required />
      </div>
      <div class="col">
        <input type="number" step="0.1" class="form-control" name="ph" placeholder="pH" required />
      </div>
    </div>
    <div class="row mb-2">
      <div class="col">
        <input type="number" step="0.1" class="form-control" name="rainfall" placeholder="Rainfall" required />
      </div>
      <div class="col">
        <select name="season" class="form-select" required>
           <option value="">Select Season</option>
           {% for s in encoder_options['season'] %}
           <option value="{{ s }}">{{ s }}</option>
           {% endfor %}
          </select>
      </div>
      <div class="col">
        <select name="district" class="form-select" required>
          <option value="">Select District</option>
          {% for d in encoder_options['district'] %}
          <option value="{{ d }}">{{ d }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="row mb-2">
      <div class="col">
        <select name="soil_type" class="form-select" required>
          <option value="">Select Soil Type</option>
          {% for st in encoder_options['soil_type'] %}
          <option value="{{ st }}">{{ st }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col">
        <input type="number" class="form-control" name="water_availability" placeholder="Water Availability" required />
      </div>
    </div>
    <div class="row mb-2">
      <div class="col">
        <select name="fertilizer_used" class="form-select" required>
          <option value="">Select Fertilizer</option>
          {% for f in encoder_options['fertilizer_used'] %}
          <option value="{{ f }}">{{ f }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col">
        <input type="number" step="0.1" class="form-control" name="sunlight_hours" placeholder="Sunlight Hours" required />
      </div>
    </div>
    <button type="submit" class="btn btn-primary" data-key="predict_button">Predict Crop</button>
  </form>
  <div id="prediction-result" class="mt-3 text-info fw-bold"></div>
</div>


  <!-- Bootstrap JS for toggler -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    const translations = {
      en: {
            navbar_brand: "ğŸŒ± AgriAssist",
    nav_home: "Home",
    nav_instructions: "Instructions",
    nav_about: "About",
        welcome_message: "Welcome to the AI-Based Farmer Support System",
        intro_text:
          `This AI-powered system acts as your personal digital assistant for agriculture.
           You can ask about crops, diseases, soil conditions, and modern farming techniques.
           Our chatbot gives instant, reliable, and easy-to-follow answers.
           Together, letâ€™s grow healthier crops and build a stronger farming community.`,
        chatbot_title: "ğŸŒ¾ AgriAssist - Smart Farmer Chatbot",
        send_button: "Send",
        crop_form_title: "ğŸŒ± Crop Prediction Form",
        predict_button: "Predict Crop",
        chat_placeholder: "Ask me anything about farming..."
      },
      hi: {
        navbar_brand: "ğŸŒ± à¤à¤—à¥à¤°à¥€à¤…à¤¸à¤¿à¤¸à¥à¤Ÿ",
    nav_home: "à¤¹à¥‹à¤®",
    nav_instructions: "à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶",
    nav_about: "à¤¹à¤®à¤¾à¤°à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚",
        welcome_message: "à¤à¤†à¤ˆ-à¤†à¤§à¤¾à¤°à¤¿à¤¤ à¤•à¤¿à¤¸à¤¾à¤¨ à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€ à¤®à¥‡à¤‚ à¤†à¤ªà¤•à¤¾ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ",
        intro_text:
          `à¤¯à¤¹ à¤à¤†à¤ˆ-à¤ªà¤¾à¤µà¤°à¥à¤¡ à¤¸à¤¿à¤¸à¥à¤Ÿà¤® à¤†à¤ªà¤•à¥‡ à¤µà¥à¤¯à¤•à¥à¤¤à¤¿à¤—à¤¤ à¤¡à¤¿à¤œà¤¿à¤Ÿà¤² à¤¸à¤¹à¤¾à¤¯à¤• à¤•à¥‡ à¤°à¥‚à¤ª à¤®à¥‡à¤‚ à¤•à¤¾à¤°à¥à¤¯ à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆà¥¤
           à¤†à¤ª à¤«à¤¸à¤²à¥‹à¤‚, à¤¬à¥€à¤®à¤¾à¤°à¤¿à¤¯à¥‹à¤‚, à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¥€ à¤¸à¥à¤¥à¤¿à¤¤à¤¿, à¤”à¤° à¤†à¤§à¥à¤¨à¤¿à¤• à¤•à¥ƒà¤·à¤¿ à¤¤à¤•à¤¨à¥€à¤•à¥‹à¤‚ à¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚ à¤ªà¥‚à¤› à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤
           à¤¹à¤®à¤¾à¤°à¤¾ à¤šà¥ˆà¤Ÿà¤¬à¥‰à¤Ÿ à¤¤à¥à¤°à¤‚à¤¤, à¤µà¤¿à¤¶à¥à¤µà¤¸à¤¨à¥€à¤¯ à¤”à¤° à¤†à¤¸à¤¾à¤¨à¥€ à¤¸à¥‡ à¤¸à¤®à¤à¤¨à¥‡ à¤µà¤¾à¤²à¥‡ à¤‰à¤¤à¥à¤¤à¤° à¤¦à¥‡à¤¤à¤¾ à¤¹à¥ˆà¥¤
           à¤†à¤‡à¤ à¤¸à¤¾à¤¥ à¤®à¤¿à¤²à¤•à¤° à¤¬à¥‡à¤¹à¤¤à¤° à¤«à¤¸à¤² à¤‰à¤—à¤¾à¤à¤‚ à¤”à¤° à¤à¤• à¤®à¤œà¤¬à¥‚à¤¤ à¤•à¥ƒà¤·à¤¿ à¤¸à¤®à¥à¤¦à¤¾à¤¯ à¤¬à¤¨à¤¾à¤à¤‚à¥¤`,
        chatbot_title: "ğŸŒ¾ à¤à¤—à¥à¤°à¥€à¤…à¤¸à¤¿à¤¸à¥à¤Ÿ - à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤•à¤¿à¤¸à¤¾à¤¨ à¤šà¥ˆà¤Ÿà¤¬à¥‰à¤Ÿ",
        send_button: "à¤­à¥‡à¤œà¥‡à¤‚",
        crop_form_title: "ğŸŒ± à¤«à¤¸à¤² à¤­à¤µà¤¿à¤·à¥à¤¯à¤µà¤¾à¤£à¥€ à¤«à¥‰à¤°à¥à¤®",
        predict_button: "à¤«à¤¸à¤² à¤…à¤¨à¥à¤®à¤¾à¤¨à¤¿à¤¤ à¤•à¤°à¥‡à¤‚",
        chat_placeholder: "à¤•à¥ƒà¤·à¤¿ à¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚ à¤•à¥‹à¤ˆ à¤­à¥€ à¤¸à¤µà¤¾à¤² à¤ªà¥‚à¤›à¥‡à¤‚..."
      },
      te: {
            navbar_brand: "ğŸŒ± à°à°—à±à°°à°¿à°…à°¸à°¿à°¸à±à°Ÿà±",
    nav_home: "à°¹à±‹à°®à±",
    nav_instructions: "à°¸à±‚à°šà°¨à°²à±",
    nav_about: "à°—à±à°°à°¿à°‚à°šà°¿",
        welcome_message: "à°à° à°†à°§à°¾à°°à°¿à°¤ à°°à±ˆà°¤à± à°¸à°¹à°¾à°¯à°• à°µà±à°¯à°µà°¸à±à°¥à°•à± à°¸à±à°µà°¾à°—à°¤à°‚",
        intro_text: `à°ˆ à°à° à°†à°§à°¾à°°à°¿à°¤ à°¸à°¿à°¸à±à°Ÿà°®à± à°®à±€ à°µà±à°¯à°•à±à°¤à°¿à°—à°¤ à°¡à°¿à°œà°¿à°Ÿà°²à± à°…à°¸à°¿à°¸à±à°Ÿà±†à°‚à°Ÿà±â€Œà°—à°¾ à°ªà°¨à°¿à°šà±‡à°¸à±à°¤à±à°‚à°¦à°¿.
          à°®à±€à°°à± à°ªà°‚à°Ÿà°²à±, à°°à±‹à°—à°¾à°²à±, à°¨à±‡à°² à°ªà°°à°¿à°¸à±à°¥à°¿à°¤à±à°²à± à°®à°°à°¿à°¯à± à°†à°§à±à°¨à°¿à°• à°µà±à°¯à°µà°¸à°¾à°¯ à°¸à°¾à°‚à°•à±‡à°¤à°¿à°•à°¤à°² à°—à±à°°à°¿à°‚à°šà°¿ à°…à°¡à°—à°µà°šà±à°šà±.
          à°®à°¾ à°šà°¾à°Ÿà±â€Œà°¬à°¾à°Ÿà± à°¤à°•à±à°·à°£à°®à±‡, à°¨à°®à±à°®à°•à°‚à°—à°¾ à°®à°°à°¿à°¯à± à°¸à±à°²à°­à°‚à°—à°¾ à°…à°°à±à°¥à°®à°¯à±à°¯à±‡ à°¸à°®à°¾à°§à°¾à°¨à°¾à°²à°¨à± à°‡à°¸à±à°¤à±à°‚à°¦à°¿.
          à°•à°²à°¸à°¿ à°†à°°à±‹à°—à±à°¯à°•à°°à°®à±ˆà°¨ à°ªà°‚à°Ÿà°²à°¨à± à°ªà±†à°‚à°šà°¿ à°¬à°²à°®à±ˆà°¨ à°µà±à°¯à°µà°¸à°¾à°¯ à°¸à°®à°¾à°œà°¾à°¨à±à°¨à°¿ à°¨à°¿à°°à±à°®à°¿à°¦à±à°¦à°¾à°‚.`,
        chatbot_title: "ğŸŒ¾ à°à°—à±à°°à°¿à°…à°¸à°¿à°¸à±à°Ÿà± - à°¸à±à°®à°¾à°°à±à°Ÿà± à°°à±ˆà°¤à± à°šà°¾à°Ÿà±â€Œà°¬à°¾à°Ÿà±",
        send_button: "à°ªà°‚à°ªà°‚à°¡à°¿",
        crop_form_title: "ğŸŒ± à°ªà°‚à°Ÿ à°ªà±‚à°°à±à°µà°¾à°¨à±à°®à°¾à°¨à°‚ à°«à°¾à°°à°‚",
        predict_button: "à°ªà°‚à°Ÿ à°ªà±‚à°°à±à°µà°¾à°¨à±à°®à°¾à°¨à°‚ à°šà±‡à°¯à°‚à°¡à°¿",
        chat_placeholder: "à°µà±à°¯à°µà°¸à°¾à°¯à°‚ à°—à±à°°à°¿à°‚à°šà°¿ à°à°¦à±ˆà°¨à°¾ à°…à°¡à°—à°‚à°¡à°¿..."
      },
      kn: {
          navbar_brand: "ğŸŒ± à²…à²—à³à²°à²¿à²…à²¸à²¿à²¸à³à²Ÿà³",
  nav_home: "à²®à²¨à³†",
  nav_instructions: "à²¸à³‚à²šà²¨à³†à²—à²³à³",
  nav_about: "à²¬à²—à³à²—à³†",
  welcome_message: "à²à² à²†à²§à²¾à²°à²¿à²¤ à²°à³ˆà²¤ à²¸à²¹à²¾à²¯à²• à²µà³à²¯à²µà²¸à³à²¥à³†à²—à³† à²¸à³à²µà²¾à²—à²¤",
  intro_text: `à²ˆ à²à² à²†à²§à²¾à²°à²¿à²¤ à²µà³à²¯à²µà²¸à³à²¥à³† à²¨à²¿à²®à³à²® à²µà³ˆà²¯à²•à³à²¤à²¿à²• à²¡à²¿à²œà²¿à²Ÿà²²à³ à²¸à²¹à²¾à²¯à²•à²¨à²‚à²¤à³† à²•à²¾à²°à³à²¯à²¨à²¿à²°à³à²µà²¹à²¿à²¸à³à²¤à³à²¤à²¦à³†. 
  à²¨à³€à²µà³ à²¬à³†à²³à³†à²—à²³à³, à²°à³‹à²—à²—à²³à³, à²®à²£à³à²£à²¿à²¨ à²ªà²°à²¿à²¸à³à²¥à²¿à²¤à²¿à²—à²³à³ à²®à²¤à³à²¤à³ à²†à²§à³à²¨à²¿à²• à²•à³ƒà²·à²¿ à²¤à²‚à²¤à³à²°à²œà³à²à²¾à²¨à²—à²³ à²¬à²—à³à²—à³† à²•à³‡à²³à²¬à²¹à³à²¦à³. 
  à²¨à²®à³à²® à²šà²¾à²Ÿà³â€Œà²¬à²¾à²Ÿà³ à²¤à²•à³à²·à²£, à²µà²¿à²¶à³à²µà²¾à²¸à²¾à²°à³à²¹ à²®à²¤à³à²¤à³ à²¸à³à²²à²­à²µà²¾à²—à²¿ à²…à²°à³à²¥à²®à²¾à²¡à²¿à²•à³Šà²³à³à²³à²¬à²¹à³à²¦à²¾à²¦ à²‰à²¤à³à²¤à²°à²—à²³à²¨à³à²¨à³ à²¨à³€à²¡à³à²¤à³à²¤à²¦à³†. 
  à²’à²Ÿà³à²Ÿà²¿à²—à³† à²†à²°à³‹à²—à³à²¯à²•à²° à²¬à³†à²³à³†à²¯à²¨à³à²¨à³ à²¬à³†à²³à³†à²¸à²¿ à²¬à²²à²µà²¾à²¦ à²•à³ƒà²·à²¿ à²¸à²®à³à²¦à²¾à²¯à²µà²¨à³à²¨à³ à²¨à²¿à²°à³à²®à²¿à²¸à³‹à²£.`,
  chatbot_title: "ğŸŒ¾ à²…à²—à³à²°à²¿à²…à²¸à²¿à²¸à³à²Ÿà³ - à²¸à³à²®à²¾à²°à³à²Ÿà³ à²°à³ˆà²¤ à²šà²¾à²Ÿà³â€Œà²¬à²¾à²Ÿà³",
  send_button: "à²•à²³à³à²¹à²¿à²¸à²¿",
  crop_form_title: "ğŸŒ± à²¬à³†à²³à³† à²­à²µà²¿à²·à³à²¯à²µà²¾à²£à²¿ à²«à²¾à²°à³à²®à³",
  predict_button: "à²¬à³†à²³à³† à²­à²µà²¿à²·à³à²¯à²µà²¾à²£à²¿ à²®à²¾à²¡à²¿",
  chat_placeholder: "à²•à³ƒà²·à²¿ à²¬à²—à³à²—à³† à²à²¨à²¾à²¦à²°à³‚ à²•à³‡à²³à²¿..."
},

ml: {
      navbar_brand: "ğŸŒ± à´…à´—àµà´°à´¿à´…à´¸à´¿à´¸àµà´±àµà´±àµ",
  nav_home: "à´¹àµ‹à´‚",
  nav_instructions: "à´¨à´¿àµ¼à´¦àµà´¦àµ‡à´¶à´™àµà´™àµ¾",
  nav_about: "à´•àµà´±à´¿à´šàµà´šàµ",
  welcome_message: "à´à´ à´…à´Ÿà´¿à´¸àµà´¥à´¾à´¨à´ªàµà´ªàµ†à´Ÿàµà´¤àµà´¤à´¿à´¯ à´•àµ¼à´·à´• à´¸à´¹à´¾à´¯ à´¸à´‚à´µà´¿à´§à´¾à´¨à´¤àµà´¤à´¿à´²àµ‡à´•àµà´•àµ à´¸àµà´µà´¾à´—à´¤à´‚",
  intro_text: `à´ˆ à´à´ à´¸à´‚à´µà´¿à´§à´¾à´¨o à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´µàµà´¯à´•àµà´¤à´¿à´—à´¤ à´¡à´¿à´œà´¿à´±àµà´±àµ½ à´¸à´¹à´¾à´¯à´¿à´¯à´¾à´¯à´¿ à´ªàµà´°à´µàµ¼à´¤àµà´¤à´¿à´•àµà´•àµà´¨àµà´¨àµ. 
  à´¨à´¿à´™àµà´™àµ¾ à´µà´¿à´³à´•àµ¾, à´°àµ‹à´—à´™àµà´™àµ¾, à´®à´£àµà´£à´¿à´¨àµà´±àµ† à´…à´µà´¸àµà´¥à´•àµ¾, à´†à´§àµà´¨à´¿à´• à´•àµƒà´·à´¿ à´¸à´¾à´™àµà´•àµ‡à´¤à´¿à´•à´µà´¿à´¦àµà´¯à´•àµ¾ à´à´¨àµà´¨à´¿à´µà´¯àµ†à´•àµà´•àµà´±à´¿à´šàµà´šàµ à´šàµ‹à´¦à´¿à´•àµà´•à´¾à´‚. 
  à´à´™àµà´™à´³àµà´Ÿàµ† à´šà´¾à´±àµà´±àµà´¬àµ‹à´Ÿàµà´Ÿàµ à´‰à´Ÿàµ», à´µà´¿à´¶àµà´µà´¾à´¸àµà´¯à´¤à´¯àµ‹à´Ÿàµ†, à´à´³àµà´ªàµà´ªà´¤àµà´¤à´¿àµ½ à´®à´¨à´¸àµà´¸à´¿à´²à´¾à´•àµà´•à´¾à´µàµà´¨àµà´¨ à´‰à´¤àµà´¤à´°à´™àµà´™àµ¾ à´¨àµ½à´•àµà´‚. 
  à´’à´°àµà´®à´¿à´šàµà´šàµ à´†à´°àµ‹à´—àµà´¯à´•à´°à´®à´¾à´¯ à´µà´¿à´³à´•àµ¾ à´µà´³àµ¼à´¤àµà´¤à´¿ à´¶à´•àµà´¤à´®à´¾à´¯ à´•àµƒà´·à´¿ à´¸à´®àµ‚à´¹à´‚ à´‰à´£àµà´Ÿà´¾à´•àµà´•à´¾à´‚.`,
  chatbot_title: "ğŸŒ¾ à´…à´—àµà´°à´¿à´…à´¸à´¿à´¸àµà´±àµà´±àµ - à´¸àµà´®à´¾àµ¼à´Ÿàµà´Ÿàµ à´•àµ¼à´·à´• à´šà´¾à´±àµà´±àµà´¬àµ‹à´Ÿàµà´Ÿàµ",
  send_button: "à´…à´¯à´¯àµà´•àµà´•àµà´•",
  crop_form_title: "ğŸŒ± à´µà´¿à´³ à´ªàµà´°à´µà´šà´¨ à´«àµ‹à´‚",
  predict_button: "à´µà´¿à´³ à´ªàµà´°à´µà´šà´¿à´•àµà´•àµà´•",
  chat_placeholder: "à´•àµƒà´·à´¿à´¯àµ†à´•àµà´•àµà´±à´¿à´šàµà´šàµ à´à´¨àµà´¤àµ†à´™àµà´•à´¿à´²àµà´‚ à´šàµ‹à´¦à´¿à´•àµà´•àµ‚..."
},

pa: {
      navbar_brand: "ğŸŒ± à¨à¨—à¨°à©€à¨…à¨¸à¨¿à¨¸à¨Ÿ",
  nav_home: "à¨˜à¨°",
  nav_instructions: "à¨¹à¨¦à¨¾à¨‡à¨¤à¨¾à¨‚",
  nav_about: "à¨¬à¨¾à¨°à©‡",
  welcome_message: "à¨à¨†à¨ˆ à¨…à¨§à¨¾à¨°à¨¿à¨¤ à¨•à¨¿à¨¸à¨¾à¨¨ à¨¸à¨¹à¨¾à¨‡à¨¤à¨¾ à¨ªà©à¨°à¨£à¨¾à¨²à©€ à¨µà¨¿à©±à¨š à¨¤à©à¨¹à¨¾à¨¡à¨¾ à¨¸à¨µà¨¾à¨—à¨¤ à¨¹à©ˆ",
  intro_text: `à¨‡à¨¹ à¨à¨†à¨ˆ à¨ªà©à¨°à¨£à¨¾à¨²à©€ à¨¤à©à¨¹à¨¾à¨¡à©‡ à¨¨à¨¿à©±à¨œà©€ à¨¡à¨¿à¨œà¨¼à¨¿à¨Ÿà¨² à¨¸à¨¹à¨¾à¨‡à¨• à¨µà¨œà©‹à¨‚ à¨•à©°à¨® à¨•à¨°à¨¦à©€ à¨¹à©ˆà¥¤ 
  à¨¤à©à¨¸à©€à¨‚ à¨«à¨¸à¨²à¨¾à¨‚, à¨¬à¨¿à¨®à¨¾à¨°à©€à¨†à¨‚, à¨®à¨¿à©±à¨Ÿà©€ à¨¦à©€à¨†à¨‚ à¨¸à¨¥à¨¿à¨¤à©€à¨†à¨‚ à¨…à¨¤à©‡ à¨†à¨§à©à¨¨à¨¿à¨• à¨–à©‡à¨¤à©€ à¨¤à¨•à¨¨à¨¾à¨²à©‹à¨œà©€à¨†à¨‚ à¨¬à¨¾à¨°à©‡ à¨ªà©à©±à¨› à¨¸à¨•à¨¦à©‡ à¨¹à©‹à¥¤ 
  à¨¸à¨¾à¨¡à¨¾ à¨šà©ˆà¨Ÿà¨¬à©Œà¨Ÿ à¨¤à©à¨°à©°à¨¤, à¨­à¨°à©‹à¨¸à©‡à¨®à©°à¨¦ à¨…à¨¤à©‡ à¨†à¨¸à¨¾à¨¨ à¨œà¨µà¨¾à¨¬ à¨¦à¨¿à©°à¨¦à¨¾ à¨¹à©ˆà¥¤ 
  à¨†à¨“ à¨‡à¨•à©±à¨ à©‡ à¨¹à©‹ à¨•à©‡ à¨¸à¨¿à¨¹à¨¤à¨®à©°à¨¦ à¨«à¨¸à¨²à¨¾à¨‚ à¨‰à¨—à¨¾à¨ˆà¨ à¨…à¨¤à©‡ à¨®à¨œà¨¼à¨¬à©‚à¨¤ à¨–à©‡à¨¤à©€à¨¬à¨¾à©œà©€ à¨•à¨®à¨¿à¨Šà¨¨à¨¿à¨Ÿà©€ à¨¬à¨£à¨¾à¨ˆà¨à¥¤`,
  chatbot_title: "ğŸŒ¾ à¨à¨—à¨°à©€à¨…à¨¸à¨¿à¨¸à¨Ÿ - à¨¸à¨®à¨¾à¨°à¨Ÿ à¨•à¨¿à¨¸à¨¾à¨¨ à¨šà©ˆà¨Ÿà¨¬à©Œà¨Ÿ",
  send_button: "à¨­à©‡à¨œà©‹",
  crop_form_title: "ğŸŒ± à¨«à¨¸à¨² à¨…à¨¨à©à¨®à¨¾à¨¨ à¨«à¨¾à¨°à¨®",
  predict_button: "à¨«à¨¸à¨² à¨…à¨¨à©à¨®à¨¾à¨¨ à¨²à¨—à¨¾à¨“",
  chat_placeholder: "à¨–à©‡à¨¤à©€ à¨¬à¨¾à¨°à©‡ à¨•à©à¨ à¨µà©€ à¨ªà©à©±à¨›à©‹..."
},

gu: {
      navbar_brand: "ğŸŒ± àªàª—à«àª°à«€àª…àª¸àª¿àª¸à«àªŸ",
  nav_home: "àª¹à«‹àª®",
  nav_instructions: "àª¸à«‚àªšàª¨àª¾àª“",
  nav_about: "àªµàª¿àª¶à«‡",
  welcome_message: "àªàª†àªˆ àª†àª§àª¾àª°àª¿àª¤ àª–à«‡àª¡à«‚àª¤ àª¸àª¹àª¾àª¯ àª¸àª¿àª¸à«àªŸàª®àª®àª¾àª‚ àª†àªªàª¨à«àª‚ àª¸à«àªµàª¾àª—àª¤ àª›à«‡",
  intro_text: `àª† àªàª†àªˆ àª†àª§àª¾àª°àª¿àª¤ àª¸àª¿àª¸à«àªŸàª® àª¤àª®àª¾àª°àª¾ àªµà«àª¯àª•à«àª¤àª¿àª—àª¤ àª¡àª¿àªœàª¿àªŸàª² àª¸àª¹àª¾àª¯àª• àª¤àª°à«€àª•à«‡ àª•àª¾àª°à«àª¯ àª•àª°à«‡ àª›à«‡. 
  àª¤àª®à«‡ àªªàª¾àª•à«‹, àª°à«‹àª—à«‹, àªœàª®à«€àª¨àª¨à«€ àªªàª°àª¿àª¸à«àª¥àª¿àª¤àª¿ àª…àª¨à«‡ àª†àª§à«àª¨àª¿àª• àª–à«‡àª¤à«€ àª¤àª•àª¨à«€àª•à«‹ àªµàª¿àª¶à«‡ àªªà«‚àª›à«€ àª¶àª•à«‹ àª›à«‹. 
  àª…àª®àª¾àª°à«‹ àªšà«‡àªŸàª¬à«‹àªŸ àª¤àª¾àª¤à«àª•àª¾àª²àª¿àª•, àªµàª¿àª¶à«àªµàª¸àª¨à«€àª¯ àª…àª¨à«‡ àª¸àª°àª³àª¤àª¾àª¥à«€ àª¸àª®àªœàª¾àª¯ àª¤à«‡àªµàª¾ àªœàªµàª¾àª¬ àª†àªªà«‡ àª›à«‡. 
  àªšàª¾àª²à«‹ àª®àª³à«€àª¨à«‡ àª¤àª‚àª¦à«àª°àª¸à«àª¤ àªªàª¾àª• àª‰àª—àª¾àª¡à«€àª àª…àª¨à«‡ àª®àªœàª¬à«‚àª¤ àª•à«ƒàª·àª¿ àª¸àª®à«àª¦àª¾àª¯ àª¬àª¨àª¾àªµà«€àª.`,
  chatbot_title: "ğŸŒ¾ àªàª—à«àª°à«€àª…àª¸àª¿àª¸à«àªŸ - àª¸à«àª®àª¾àª°à«àªŸ àª–à«‡àª¡à«‚àª¤ àªšà«‡àªŸàª¬à«‹àªŸ",
  send_button: "àª®à«‹àª•àª²à«‹",
  crop_form_title: "ğŸŒ± àªªàª¾àª• àª†àª—àª¾àª¹à«€ àª«à«‹àª°à«àª®",
  predict_button: "àªªàª¾àª•àª¨à«€ àª†àª—àª¾àª¹à«€ àª•àª°à«‹",
  chat_placeholder: "àª–à«‡àª¤à«€ àªµàª¿àª¶à«‡ àª•àªˆàªªàª£ àªªà«‚àª›à«‹..."
},

or: {
    navbar_brand: "ğŸŒ± à¬à¬—à­à¬°à¬¿à¬…à¬¸à¬¿à¬·à­à¬Ÿ",
  nav_home: "à¬®à­à¬–à­à­Ÿ",
  nav_instructions: "à¬¨à¬¿à¬°à­à¬¦à­à¬¦à­‡à¬¶",
  nav_about: "à¬¬à¬¿à¬·à­Ÿà¬°à­‡",  
  welcome_message: "à¬à¬†à¬‡ à¬†à¬§à¬¾à¬°à¬¿à¬¤ à¬•à­ƒà¬·à¬• à¬¸à¬¹à¬¾à­Ÿà¬¤à¬¾ à¬ªà­à¬°à¬£à¬¾à¬³à­€à¬•à­ à¬¸à­à­±à¬¾à¬—à¬¤",
  intro_text: `à¬à¬¹à¬¿ à¬à¬†à¬‡ à¬ªà­à¬°à¬£à¬¾à¬³à­€ à¬†à¬ªà¬£à¬™à­à¬• à¬¬à­à­Ÿà¬•à­à¬¤à¬¿à¬—à¬¤ à¬¡à¬¿à¬œà¬¿à¬Ÿà¬¾à¬² à¬¸à¬¹à¬¾à­Ÿà¬• à¬­à¬¾à¬¬à­‡ à¬•à¬¾à¬°à­à¬¯à­à­Ÿ à¬•à¬°à­‡à¥¤ 
  à¬†à¬ªà¬£ à¬šà¬¾à¬·, à¬°à­‹à¬—, à¬®à¬¾à¬Ÿà¬¿à¬° à¬ªà¬°à¬¿à¬¸à­à¬¥à¬¿à¬¤à¬¿ à¬à¬¬à¬‚ à¬†à¬§à­à¬¨à¬¿à¬• à¬•à­ƒà¬·à¬¿ à¬ªà­à¬°à¬¯à­à¬•à­à¬¤à¬¿ à¬¬à¬¿à¬·à­Ÿà¬°à­‡ à¬ªà¬šà¬¾à¬°à¬¿à¬ªà¬¾à¬°à¬¿à¬¬à­‡à¥¤ 
  à¬†à¬®à¬° à¬šà¬¾à¬Ÿà¬¬à¬Ÿà­ à¬¤à­à¬°à¬¨à­à¬¤, à¬¬à¬¿à¬¶à­à­±à¬¸à¬¨à­€à­Ÿ à¬à¬¬à¬‚ à¬¸à¬¹à¬œà¬°à­‡ à¬¬à­ understandedable answer. 
  à¬šà¬³, à¬†à¬®à­‡ à¬¸à­à¬¸à­à¬¥ à¬ªà¬•à­à¬·à­€à¬—à­à¬¡à¬¿à¬•à­ à¬¬à­ƒà¬¦à­à¬§à¬¿ à¬•à¬°à¬¿à¬¬à¬¾à¬•à­ à¬à¬¬à¬‚ à¬¦à­ƒ strong agricultural community.`,
  chatbot_title: "ğŸŒ¾ à¬à¬—à­à¬°à¬¿à¬…à¬¸à¬¿à¬·à­à¬Ÿ - à¬¸à­à¬®à¬¾à¬°à­à¬Ÿ à¬•à­ƒà¬·à¬• à¬šà¬¾à¬Ÿà¬¬à¬Ÿà­",
  send_button: "à¬ªà¬ à¬¾à¬¨à­à¬¤à­",
  crop_form_title: "ğŸŒ± à¬šà¬¾à¬· à¬ªà­‚à¬°à­à¬¬à¬¾à¬¨à­à¬®à¬¾à¬¨ à¬«à¬°à­à¬®",
  predict_button: "à¬šà¬¾à¬· à¬ªà­‚à¬°à­à¬¬à¬¾à¬¨à­à¬®à¬¾à¬¨ à¬•à¬°à¬¨à­à¬¤à­",
  chat_placeholder: "à¬•à­ƒà¬·à¬¿ à¬¬à¬¿à¬·à­Ÿà¬°à­‡ à¬•à¬¿à¬›à¬¿ à¬ªà¬šà¬¾à¬°à¬¨à­à¬¤à­..."
},

bn: {
      navbar_brand: "ğŸŒ± à¦à¦—à§à¦°à¦¿à¦…à§à¦¯à¦¾à¦¸à¦¿à¦¸à§à¦Ÿ",
  nav_home: "à¦¹à§‹à¦®",
  nav_instructions: "à¦¨à¦¿à¦°à§à¦¦à§‡à¦¶à¦¾à¦¬à¦²à§€",
  nav_about: "à¦¸à¦®à§à¦ªà¦°à§à¦•à§‡",
  welcome_message: "à¦à¦†à¦‡ à¦­à¦¿à¦¤à§à¦¤à¦¿à¦• à¦•à§ƒà¦·à¦• à¦¸à¦¹à¦¾à¦¯à¦¼à¦¤à¦¾ à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦®à§‡ à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®",
  intro_text: `à¦à¦‡ à¦à¦†à¦‡-à¦­à¦¿à¦¤à§à¦¤à¦¿à¦• à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦®à¦Ÿà¦¿ à¦†à¦ªà¦¨à¦¾à¦° à¦¬à§à¦¯à¦•à§à¦¤à¦¿à¦—à¦¤ à¦¡à¦¿à¦œà¦¿à¦Ÿà¦¾à¦² à¦¸à¦¹à¦•à¦¾à¦°à§€ à¦¹à¦¿à¦¸à§‡à¦¬à§‡ à¦•à¦¾à¦œ à¦•à¦°à§‡à¥¤ 
  à¦†à¦ªà¦¨à¦¿ à¦«à¦¸à¦², à¦°à§‹à¦—, à¦®à¦¾à¦Ÿà¦¿à¦° à¦…à¦¬à¦¸à§à¦¥à¦¾ à¦à¦¬à¦‚ à¦†à¦§à§à¦¨à¦¿à¦• à¦•à§ƒà¦·à¦¿ à¦ªà§à¦°à¦¯à§à¦•à§à¦¤à¦¿ à¦¸à¦®à§à¦ªà¦°à§à¦•à§‡ à¦œà¦¾à¦¨à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¦¨à¥¤ 
  à¦†à¦®à¦¾à¦¦à§‡à¦° à¦šà§à¦¯à¦¾à¦Ÿà¦¬à¦Ÿ à¦¦à§à¦°à§à¦¤, à¦¨à¦¿à¦°à§à¦­à¦°à¦¯à§‹à¦—à§à¦¯ à¦à¦¬à¦‚ à¦¸à¦¹à¦œà§‡ à¦¬à§‹à¦à¦¾ à¦¯à¦¾à¦¯à¦¼ à¦à¦®à¦¨ à¦‰à¦¤à§à¦¤à¦° à¦¦à§‡à¦¯à¦¼à¥¤ 
  à¦šà¦²à§à¦¨ à¦à¦•à¦¸à¦¾à¦¥à§‡ à¦¸à§à¦¬à¦¾à¦¸à§à¦¥à§à¦¯à¦•à¦° à¦«à¦¸à¦² à¦‰à§à¦ªà¦¾à¦¦à¦¨ à¦•à¦°à¦¿ à¦à¦¬à¦‚ à¦à¦•à¦Ÿà¦¿ à¦¶à¦•à§à¦¤à¦¿à¦¶à¦¾à¦²à§€ à¦•à§ƒà¦·à¦¿ à¦¸à¦®à§à¦ªà§à¦°à¦¦à¦¾à¦¯à¦¼ à¦—à¦¡à¦¼à§‡ à¦¤à§à¦²à¦¿à¥¤`,
  chatbot_title: "ğŸŒ¾ à¦à¦—à§à¦°à¦¿à¦…à§à¦¯à¦¾à¦¸à¦¿à¦¸à§à¦Ÿ - à¦¸à§à¦®à¦¾à¦°à§à¦Ÿ à¦•à§ƒà¦·à¦• à¦šà§à¦¯à¦¾à¦Ÿà¦¬à¦Ÿ",
  send_button: "à¦ªà¦¾à¦ à¦¾à¦¨",
  crop_form_title: "ğŸŒ± à¦«à¦¸à¦² à¦ªà§‚à¦°à§à¦¬à¦¾à¦­à¦¾à¦¸ à¦«à¦°à§à¦®",
  predict_button: "à¦«à¦¸à¦² à¦ªà§‚à¦°à§à¦¬à¦¾à¦­à¦¾à¦¸ à¦¦à¦¿à¦¨",
  chat_placeholder: "à¦•à§ƒà¦·à¦¿ à¦¸à¦®à§à¦ªà¦°à§à¦•à§‡ à¦•à¦¿à¦›à§ à¦œà¦¿à¦œà§à¦à¦¾à¦¸à¦¾ à¦•à¦°à§à¦¨..."
},

as: {
      navbar_brand: "ğŸŒ± à¦à¦—à§à§°à¦¿à¦…à¦›à¦¿à¦·à§à¦Ÿ",
  nav_home: "à¦¹à§‹à¦®",
  nav_instructions: "à¦¨à¦¿à¦°à§à¦¦à§‡à¦¶à¦¨à¦¾",
  nav_about: "à¦¬à¦¿à¦·à¦¯à¦¼à§‡",
  welcome_message: "à¦à¦†à¦‡-à¦­à¦¿à¦¤à§à¦¤à¦¿à¦• à¦•à§ƒà¦·à¦• à¦¸à¦¹à¦¾à¦¯à¦¼à¦¤à¦¾ à¦¬à§à¦¯à§±à¦¸à§à¦¥à¦¾à¦²à§ˆ à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®",
  intro_text: `à¦à¦‡ à¦à¦†à¦‡-à¦­à¦¿à¦¤à§à¦¤à¦¿à¦• à¦¬à§à¦¯à§±à¦¸à§à¦¥à¦¾ à¦†à¦ªà§‹à¦¨à¦¾à§° à¦¬à§à¦¯à¦•à§à¦¤à¦¿à¦—à¦¤ à¦¡à¦¿à¦œà¦¿à¦Ÿà§‡à¦² à¦¸à¦¹à¦¾à¦¯à¦¼à¦• à¦¹à¦¿à¦šà¦¾à¦ªà§‡ à¦•à¦¾à¦® à¦•à§°à§‡à¥¤ 
  à¦†à¦ªà§à¦¨à¦¿ à¦¶à¦¸à§à¦¯, à§°à§‹à¦—, à¦®à¦¾à¦Ÿà¦¿à§° à¦…à§±à¦¸à§à¦¥à¦¾ à¦†à§°à§ à¦†à¦§à§à¦¨à¦¿à¦• à¦•à§ƒà¦·à¦¿ à¦ªà§à§°à¦¯à§à¦•à§à¦¤à¦¿ à¦¸à¦®à§à¦ªà§°à§à¦•à§‡ à¦¸à§‹à¦§à¦¿à¦¬ à¦ªà¦¾à§°à§‡à¥¤ 
  à¦†à¦®à¦¾à§° à¦šà§‡à¦Ÿà¦¬à¦Ÿ à¦¤à§à¦•à§à¦·à¦£à¦¾à¦¤, à¦¬à¦¿à¦¶à§à¦¬à¦¾à¦¸à¦¯à§‹à¦—à§à¦¯ à¦†à§°à§ à¦¸à¦¹à¦œà§‡ à¦¬à§à¦œà¦¿à¦¬ à¦ªà§°à¦¾ à¦‰à¦¤à§à¦¤à§° à¦¦à¦¿à¦¯à¦¼à§‡à¥¤ 
  à¦†à¦¹à¦•, à¦à¦•à§‡à¦²à¦—à§‡ à¦¸à§à¦¸à§à¦¬à¦¾à¦¸à§à¦¥à§à¦¯à¦•à¦° à¦¶à¦¸à§à¦¯ à¦‰à§à¦ªà¦¾à¦¦à¦¨ à¦•à§°à¦¿ à¦¶à¦•à§à¦¤à¦¿à¦¶à¦¾à¦²à§€ à¦•à§ƒà¦·à¦¿ à¦¸à¦®à¦¾à¦œ à¦—à¦ à¦¨ à¦•à§°à§‹à¦à¥¤`,
  chatbot_title: "ğŸŒ¾ à¦à¦—à§à§°à¦¿à¦…à¦›à¦¿à¦·à§à¦Ÿ - à¦¸à§à¦®à¦¾à§°à§à¦Ÿ à¦•à§ƒà¦·à¦• à¦šà§‡à¦Ÿà¦¬à¦Ÿ",
  send_button: "à¦ªà¦ à¦¿à¦¯à¦¼à¦¾à¦“à¦•",
  crop_form_title: "ğŸŒ± à¦¶à¦¸à§à¦¯ à¦ªà§‚à§°à§à¦¬à¦¾à¦­à¦¾à¦¸ à¦«à§°à§à¦®",
  predict_button: "à¦¶à¦¸à§à¦¯ à¦ªà§‚à§°à§à¦¬à¦¾à¦­à¦¾à¦¸ à¦•à§°à¦•",
  chat_placeholder: "à¦•à§ƒà¦·à¦¿ à¦¸à¦®à§à¦ªà§°à§à¦•à§‡ à¦¯à¦¿à¦•à§‹à¦¨à§‹ à¦ªà§à§°à¦¶à§à¦¨ à¦¸à§‹à¦§à¦•..."
},
    }
    function translatePage(lang) {
      document.querySelectorAll("[data-key]").forEach((el) => {
        const key = el.getAttribute("data-key");
        if (translations[lang] && translations[lang][key]) {
          el.innerHTML = translations[lang][key];
        }
      });
      document.querySelectorAll("[data-key-placeholder]").forEach((el) => {
        const key = el.getAttribute("data-key-placeholder");
        if (translations[lang] && translations[lang][key]) {
          el.placeholder = translations[lang][key];
        }
      });
    }

    document
      .getElementById("language-select")
      .addEventListener("change", function () {
        translatePage(this.value);
      });

    translatePage("en");

    async function sendMessage() {
      const userInput = document.getElementById("user-message").value;
      if (!userInput.trim()) return;
      const chatBox = document.getElementById("chat-box");
      chatBox.innerHTML += `<div class="chat-msg user">ğŸ§‘â€ğŸŒ¾ You: ${userInput}</div>`;
      document.getElementById("user-message").value = "";
      try {
        const response = await fetch("/chat", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message: userInput }),
        });
        const data = await response.json();
        const botReply = data.response || "No response";
        chatBox.innerHTML += `<div class="chat-msg bot">ğŸ¤– Bot: ${botReply}</div>`;
        chatBox.scrollTop = chatBox.scrollHeight;
        speak(botReply);
      } catch (err) {
        chatBox.innerHTML += `<div class="chat-msg bot">ğŸ¤– Bot: Error occurred. Try again.</div>`;
      }
    }
    function startListening() {
      const lang = document.getElementById("chat-lang-select").value;
      const recognition =
        new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = lang;
      recognition.onresult = function (event) {
        const transcript = event.results[0][0].transcript;
        document.getElementById("user-message").value = transcript;
        sendMessage();
      };
      recognition.onerror = function (event) {
        alert("Voice recognition error: " + event.error);
      };
      recognition.start();
    }
    function speak(text) {
  const selectedLang = document.getElementById("chat-lang-select").value;

  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = selectedLang;

  // Try to select a matching voice if available
  const voices = window.speechSynthesis.getVoices();
  const matchingVoice = voices.find(voice => voice.lang === selectedLang);

  if (matchingVoice) {
    utterance.voice = matchingVoice;
  } else {
    console.warn("ğŸ”ˆ No exact matching voice found for", selectedLang);
  }

  window.speechSynthesis.speak(utterance);
}

  </script>
  <script>
  // Predict Crop using fetch (without reloading)
  document.getElementById("crop-form").addEventListener("submit", async function (e) {
    e.preventDefault(); // Stop form from reloading

    const formData = new FormData(this);
    const jsonData = {};

    for (const [key, value] of formData.entries()) {
      jsonData[key] = value;
    }

    try {
      const response = await fetch("/predict", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(jsonData)
      });

      const result = await response.json();

      if (result.predicted_crop) {
        document.getElementById("prediction-result").innerText = "ğŸŒ¾ Predicted Crop: " + result.predicted_crop;
      } else if (result.error) {
        document.getElementById("prediction-result").innerText = "âŒ Error: " + result.error;
      } else {
        document.getElementById("prediction-result").innerText = "âš ï¸ Unexpected response.";
      }

    } catch (error) {
      document.getElementById("prediction-result").innerText = "âŒ Request failed: " + error;
    }
  });
</script>

</body>
</html>